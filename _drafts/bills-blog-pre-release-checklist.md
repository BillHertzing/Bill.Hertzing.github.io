---
title: Bills Blog Pre-Release Checklist
Description: Checklist for use prior to starting the Release process for <Post/Bug/Feat> release
category: technical
tags: [Pre-Release Checklist, Process]
---

Things about the release candidate to validate before starting the steps in [Bill's Blog Release Process](bills-blog-release-process.md)

## Conventions

<Feat/Bug/Post-Branch> is the name of the branch that is being evaluated for release. The branch being evaluated for release will be referred to as the Release Candidate in this document.

## Criteria and Evaluation

This document is a work in progress. In this first edition, many items are simply placeholders, indicated by "ToDo:". This is especially true for areas that eventually will get automation to confirm the site conforms. For now, the checks should be done manually.

1. Checkout the <Feat/Bug/Post-Branch> with Visual Studio Code (VSC).
1. Review any `warnings` that appear in VSC's `problems` pane.  These are generated by various VSC linting, spell-checking and static analysis extensions. Clean up the underlying issue, or decide they are OK to live with for this release. Commit any changes made during this step to `<Feat/Bug/Post-Branch>` using a WIP commit message.

## Check text spelling, grammar, and case-consistency on proper names

Using VSC:

- Use a spell checker plugin and ensure it reports no misspellings. I like the VSC extension [Code Spell Checker](https://github.com/streetsidesoftware/vscode-spell-checker)
  
Using Grammarly:

- [ToDo: write instructions on using the unofficial Grammarly VSC plugin on a draft post]
  
Ensure that proper names that refer to software or hardware concepts and company names, are consistent in their case across the site.

- [ToDo: write a script that tests the site for proper noun casing consistency]

## Check post and page layout consistency

ToDo:

## <a name="Site Checks"></a>Site Checks

The following subsections provide details about specific items to validate.

Here are some links to articles that discuss automating these checks, for future site releases

- [End-to-end testing with GitLab CI/CD and WebdriverIO](https://docs.gitlab.com/ee/ci/examples/end_to_end_testing_webdriverio/)
- [selenium](https://www.selenium.dev/)
- [Most Complete Selenium WebDriver C# Cheat Sheet](https://www.automatetheplanet.com/selenium-webdriver-csharp-cheat-sheet/)
- [Getting Started with WebDriver C# in 10 Minutes](https://www.automatetheplanet.com/getting-started-webdriver/)
- [WebDriverManager.Net](https://github.com/rosolko/WebDriverManager.Net/)
- [BrowserStack: App & Browser Testing Made Easy](https://www.browserstack.com/)
- [Nice tests to run in CI before deploying any website](https://dev.to/andyli/nice-tests-to-run-in-ci-before-deploying-any-website-14o2)
  - [HTML5 Validator](https://github.com/svenkreiss/html5validator) - Markup validation
  - Detecting browser console error messages - use Selenium web driver, navigates to each page and calls driver.get_log("browser"), asserts that there is no log.

### Check Images and Videos

For posts that include images, ensure the links in the post properly reference images and videos hosted in the selected 3rd party clouds. Most of the images and videos for this site use DropBox as the cloud hosting provider.

Ensure or check the following:

- Images and videos are created in multiple responsive sizes
- Image and video thumbnails are created
- Images and videos are checked for any PPI in the metadata,and scrubbed
- Images and videos comply with accessibility guidelines - `Alt` text and navigation aides
- Ensure that videos have been created in multiple resolutions for different sized devices

- Get final links to Images and Videos

  - For Dropbox hosted images:
    - Get a Dropbox developer access token from https://www.dropbox.com/developers/apps.
      - [ToDo: link to attributions on how to create a Dropbox account, developer credentials, and an app to allow API access to dropbox]
    - Run `$env:DropBoxAccessToken = "<DropBoxAccessToken>"`
      - [ToDo: link to document describing how to access the ATAP Powershell BuildTooling modules]
    - Run `$env:PSModulePath = "./;" + $env:PSModulePath`
    - Run the Powershell script `Get-DropboxSharedLinks.ps1' -verbose -path "Dropbox-path-to-folder-having-links"`
    - Validate the references to images and videos in the post uses the link information returned by the Powershell script.
      - [ToDo: A script to automate link checking the document and the links from Dropbox]
  - For Google Photos hosted images:
    - [ToDo: write instructions and scripts for Google Photo hosted images]
  - For Microsoft Drive hosted images:
    - [ToDo: write instructions and scripts for Microsoft Drive hosted images]

- [ToDo: write a script that tests each image link in each page and post in the site. Put this script in the automated tests.]

### Check internal links

Ensure that all links in the post that refer to anchor points within the same post, or to anchor points in other points, work correctly. All Headings in `.md` documents should include an explicit anchor point. Links to headers in `.md` documents should refer to the anchor point associated with that header. See also the many answers to this StackOverflow question [Cross-reference (named anchor) in markdown](https://stackoverflow.com/questions/5319754/cross-reference-named-anchor-in-markdown) for more insight into why explicit anchors are desirable.

The reason for using explicit anchor points boils down to the inconsistency between site generators when making anchor points out of Markdown headings. Different static site generators create anchor points using slightly different formats. But if you create an explicit anchor point, and reference that, then the choice of a site generator is moot. But the drawback is that *you* have to decide how to format anchor points, and decide how to handle name collisions.

So until the this site gets an automation tool for creating and using explicit anchor points, we will rely on the Jekyll generator's markdown header's anchor point format. In the Minimal Mistakes theme, the Markdown processor is specified as Kramdown. Kramdown and it has a setting `auto_ids: true` which creates an `id` attribute on the header. Details can be found in the SO question and "starfry's" answer [jekyll markdown internal links](https://stackoverflow.com/questions/4629675/jekyll-markdown-internal-links)

[Example link to heading in the same document](#check-internal-links)
[Example link to heading in a site page](About.md#About-this-blog)
[Example link to heading in a categorized post](personal/Welcome-to-the-Personal-section-of-my-site.md#Example-picture)

### Check Styling

ToDo checklist including responsive tests for text spans

### Check Scripts

If the site contains any JavaScript functions, these need to be checked.

- [ToDo: write a testing document that describes how to test each JS script / function incorporated into the site]
- [ToDo: write a script that tests each JS script / function incorporated into the site]

### Check Security

It is very important to ensure that nothing in the site allows bad actors to violate its security. This is especially true of any site features that store persistent data.

- [ToDo: write a security document that describes how to test the site's security for data-at-rest, and data-in-transit]
- [ToDo: write a security document that describes how to use `secrets` while developing the site]
- [ToDo: write a script that tests the site for Security]

### Check Accessibility

Accessability features of the site allow people with issues to use aids in navigating the site. Accessability design ensure a good experience for these people.

Attribution:

- [How to Automate Web Accessibility Testing](https://medium.com/@f3igao/how-to-automate-web-accessibility-testing-921512bdd4bf)
- [Pa11y](https://pa11y.org/)
- Pa11y needs a `sitemap.xml`, which is generated by `jekyll-sitemap` gem  Another option is [Sitemap Generator (botMap)](http://botmap.surge.sh/).

- [ToDo: write a development and testing document(s) that describes how to design and test the site for Accessibility]
- [ToDo: write a script that tests the site for Accessibility]
- [ToDo: add Internet references for additional information on Accessible design]

### Check Globalization and Localization

Globalization and Localization features of the site make it easier to produce translations of the site into other languages and cultures.

- [ToDo: write a development and testing document(s) that describes how to design and test the site for Globalization and Localization]
- [ToDo: write a script that tests the site for Globalization and Localization]
- [ToDo: add Internet references for additional information for Globalization and Localization as it applies to static Blog Post sites]

## Check that the Release Candidate works on the Internet

The Release Candidate has to be tested "as if" it was publicly accessible from the Internet. This focuses on the availability of content that is served from locations other than the main site, e.g. images, JS libraries, and CSS libraries.

### Setup `ngrok`

- See [Getting Started with ngrok](https://dashboard.ngrok.com/get-started/setup)

### Publish to Internet via ngrok

1. Run `$env:JEKYLL_ENV = 'production'; bundle exec jekyll serve` to ensure that `_site` has been built with no drafts and with Disqus comments enabled.
1. Run `ngrok` from a Powershell prompt.
1. Copy the ngrok link information that is displayed
1. Using multiple different computers and devices with multiple different screen sizes, evaluate the public site (ngrok link) against the criteria in [Site Checks](#Site-Checks) .

Stop the local Jekyll server and close the ngrok channel

## Steps to publish a draft post

if the site release includes one or more posts to be published, follow these steps to move the post from its drafts state to the published state.

- [ToDo: write a document that describes how to move a post from draft to production]
- [ToDo: write a script that moves a post from draft to production]

1. Ensure the terminal is at the root of the repo
1. Run `bundle exec jekyll publish "_drafts/Word-Template-for-letter-to-CPA-HOA-regarding-sale-of-golf-course.md"``
1. Run `mv  _posts/2021-05-01-Word-Template-for-letter-to-CPA-HOA-regarding-sale-of-golf-course.md political/2021-05-01-Word-Template-for-letter-to-CPA-HOA-regarding-sale-of-golf-course.md`
1. *ToDo: fix the git issue, figure out how to tell git that the draft is renamed to the post. Git thinks its a delete and an add. Automate this
1. Ensure the file has been moved and renamed, to the correct category subdirectory and the proper date prefix added.
1. Run `bundle exec jekyll serve` and validate the new post passes the [New Post Checklist](ToDo: Real Soon Now)
